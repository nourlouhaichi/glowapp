{% extends 'front/frontbase.html.twig' %}

{% block title %}Edit Password{% endblock %}

{% block body %}
 <div class="container px-0">
                <nav class="navbar navbar-light bg-white navbar-expand-xl">
                    <a href="{{ path('app_home_member') }}"><img src="{{asset('front/img/logoglowapp.png')}}" length='150px' width='150px'></a>
                    <button class="navbar-toggler py-2 px-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                        <span class="fa fa-bars text-primary"></span>
                    </button>
                    <div class="collapse navbar-collapse bg-white" id="navbarCollapse">
                        <div class="navbar-nav mx-auto">
                            <a href="{{ path('app_home_member') }}" class="nav-item nav-link ">Home</a>
                            <a href="{{ path('app_produitfront') }}" class="nav-item nav-link">Shop</a>
                            <a href="{{ path('app_event') }}" class="nav-item nav-link">Events</a>
                             <a href="{{ path('app_programme_index') }}" class="nav-item nav-link" >Programs</a>
                            <a href="{{ path('app_publications') }}" class="nav-item nav-link">Publications</a>
                        </div>
                        <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                        {% if app.user.gender == "female"%}
                        <img class="rounded-circle me-lg-2" src="{{asset('back/img/Fprofile.png')}}" alt="" style="width: 40px; height: 40px;">
                        {% else %}
                        <img class="rounded-circle me-lg-2" src="{{asset('back/img/Mprofile.png')}}" alt="" style="width: 40px; height: 40px;">
                        {% endif %}
                            
                            <span class="d-none d-lg-inline-flex">{{ app.user.lastname}} {{ app.user.firstname}}</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="{{ path('profile_member') }}" class="dropdown-item">My Profile</a>
                            {% if 'ROLE_ADMIN' in app.user.roles %}
                            <a href="{{ path('app_home_admin') }}" class="dropdown-item">Back Office</a>
                            {% endif %}
                            {# <a href="#" class="dropdown-item">Settings</a> #}
                            <a href="{{ path('app_logout') }}" class="dropdown-item">Log Out</a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
        <!-- Navbar End -->

         <br><br><br><br><br><br><br> <br>
        <div class="container">
    <div class="main-body">
    
          <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img src="{{ asset('uploads/user/' ~ app.user.profilePicture) }}" alt="Admin" class="rounded-circle" width="150">
                    <div class="mt-3">
                      <h4 class="text-success mb-1">{{ app.user.lastname}} {{ app.user.firstname}}</h4>
                      <p class="text-warning mb-0">{% for role in app.user.roles %}
                {% if role == "ROLE_USER" %}
                    Member
                {% elseif role == "ROLE_ADMIN" %}
                    Admin
                {% elseif role == "ROLE_COACH" %}
                    Coach
                {% elseif role == "ROLE_NUTRITIONIST" %}
                    Nutritionist
                {% endif %}
                {% endfor %}</p>
                      <p class="text-muted font-size-sm">{{ app.user.createdAt | date('Y-m-d H:i:s') }}</p>
                    </div>
                  </div>
                </div>
              </div>
              
            </div>
           
            <div class="col-md-8">
             <form method="post">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">New Password</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                     <input type="password" id="pass" name="pass" class="form-control" pattern="(?=.*\d)(?=.*[a-z]).{8,}" title="Le mot de passe doit contenir au moins un chiffre et au moins 8 caractères de long." required>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Confirm New Password</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <input type="password" id="pass2" name="pass2" class="form-control" pattern="(?=.*\d)(?=.*[a-z]).{8,}" title="Le mot de passe doit contenir au moins un chiffre et au moins 8 caractères de long." required>
                    </div>
                  </div>

                {% for message in app.flashes('error') %}
			<center><div class="col-xs4">
				<div class="p-3 my-2 rounded-2 error">{{message}}</div>
			</div></center>
            {% endfor %}
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                      <a class="btn btn-primary rounded-pill m-2" href="{{ path('profile_member') }}"><i class="fa fa-arrow-left"></i></a>
                      <button type="submit" class="btn btn-success rounded-pill m-2"><i class="fa fa-check" aria-hidden="true"></i></button>
                      
                      </form>
                    </div>
                  </div>
                </div>
              </div></div></div></div></div> 
 {% endblock %}

              {# <div class="grix xs4 container">
		<div class="col-xs4">
			<h1>Modification du mot de passe de {{ app.user.firstname }} {{ app.user.lastname }}</h1>
            <form method="post">
                <div class="form-field">
                    <label for="pass">Mot de passe</label>
                    <input type="password" id="pass" name="pass" class="form-control">
                </div>
                <div class="form-field">
                    <label for="pass2">Confirmer le mot de passe</label>
                    <input type="password" id="pass2" name="pass2" class="form-control">
                </div>
                <button class="btn blue">Valider</button>
            
            </form>
		</div> #}
        
	{# </div> #}
   


   